name: Tests
on: [push, pull_request]
jobs:
  test:
    runs-on: macos-15
    steps:
      - uses: actions/checkout@v4
      - uses: maxim-lobanov/setup-xcode@v1
        with:
          xcode-version: latest-stable
      - uses: actions/cache@v4
        with:
          path: .build
          key: spm-${{ runner.os }}-${{ hashFiles('Package.swift') }}
          restore-keys: spm-${{ runner.os }}-
      - run: swift package resolve
      - run: swift test
        timeout-minutes: 10
